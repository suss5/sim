<html>
<body>
  <p>Simulation</p>
  <button id="play" onclick="play()">
     <img src="play100.png" style="width: 8vw; height: 8vh;">
  </button>
  <button id="stop" onclick="stop()">
     <img src="stop100.png" style="width: 8vw; height: 8vh;">
    </button>
 
  <button id="generate" onclick="gen()">
     <img src="gen100.png" style="width: 6vw; height: 6vh;">
  </button>
  <label for="ang" style="font-size: 4vw" >Enter an Angle</label>
  <input type="number" id="ang" name="ang" style="font-size: 4vw" min="0" max="90" value="30" output="gen()">

 <br>
 <canvas id="Canvas1" style="border: 1px solid"></canvas>

<script>
const c1 = document.getElementById("Canvas1")
const ct1 = c1.getContext("2d")
const direction = document.getElementById("ang")
const delay=30
const targ= new Image()
c1.width=Math.floor(.97*window.innerWidth)
c1.height=Math.floor(.7*window.innerHeight)
ct1.fillStyle="lightblue"
ct1.fillRect(0,0,c1.width,.7*c1.height)
ct1.fillStyle="lightgreen"
ct1.fillRect(0,.7*c1.height,c1.width,.3*c1.height)
targ.onload=function(){ gen() }
targ.src="targettransparent.png"
var proc,ball

function gen(){
 angle=+(direction.value)/6.29
 angx=Math.cos(angle)
 angy=Math.sin(angle)
 speed=.01
 ball={x: .1*c1.width, y: .65*c1.height, vx: .01*angx*c1.width, vy: speed*angy*c1.height, ay: -.005*speed*angy*c1.height}
 ct1.fillStyle="lightblue"
 ct1.fillRect(0,0,c1.width,.7*c1.height)
 ct1.fillStyle="lightgreen"
 ct1.fillRect(0,.7*c1.height,c1.width,.3*c1.height)
 ct1.drawImage(targ, .7*c1.width, .5*c1.height, .2*c1.width, .2*c1.height)
 ct1.fillStyle="black"
 display()
}
  
function play(){
  proc=setInterval(shoot,delay)
}
  
function stop(){
  clearInterval(proc)
}
  
function shoot(){
  ball.vy+=ball.ay
  ball.y+=ball.vy
  ball.x+=ball.vx
  display()
  if(ball.y>.8*c1.height){ stop() }
}
  
function display(){
  ct1.fillRect(ball.x,ball.y,3,3)
}
 
</script>
</body>
</html>
